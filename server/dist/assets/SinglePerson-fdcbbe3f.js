import{r as a,k as j,M as f,l as N,j as e,B as v,A as S,f as y}from"./index-9b3e82f7.js";import{M as R}from"./multiselect.esm-6a74c009.js";import{r as b}from"./Dialogs-cdfc4573.js";import"./inputtextarea.esm-fe1d180e.js";import"./inputnumber.esm-a336fc43.js";const P=()=>{var d,p;const t=a.useRef(null),[n,o]=a.useState([]),x=j(),[h,l]=a.useState([]),{io:i}=a.useContext(f),[u,c]=a.useState(!1);t.current=N().id,a.useEffect(()=>{c(!0),i.emit("get-person",t.current),i.on("set-person",({data:s})=>{var r;o(s),l(JSON.parse(((r=s[0])==null?void 0:r.role)||[])),c(!1)})},[t.current]);const g=s=>{var m;const r=n[0];r.role=JSON.stringify(s),o([r]),l(s),i.emit("update-person",{id:(m=n[0])==null?void 0:m.id,value:s})};return e.jsxs("aside",{className:"__s_person",children:[e.jsx("div",{children:e.jsxs("div",{className:"heading",children:[e.jsx(v,{icon:"pi pi-times",onClick:()=>x("../"),className:"no-shadow p-button-rounded",style:{marginLeft:"-0.8rem"},text:!0}),e.jsx("p",{children:"Edit User"})]})}),u?e.jsx("div",{className:"fallback-loading",children:"Loading..."}):n.length>0?e.jsx("div",{className:"p-card",children:e.jsxs("div",{className:"p-card-body",children:[e.jsxs("div",{className:"p-card-heading flex",style:{alignItems:"center"},children:[e.jsx(S,{icon:"pi pi-user",size:"large",shape:"circle"}),e.jsx("span",{children:(d=n[0])==null?void 0:d.name})]}),e.jsxs("div",{className:"p-card-content",children:[e.jsx("small",{children:"Role"}),e.jsxs("div",{children:[" ",y((p=n[0])==null?void 0:p.role)]}),e.jsx(R,{id:"role",value:h,onChange:s=>g(s.value),options:b,display:"chip"})]})]})}):e.jsx("div",{className:"fallback-loading",children:"Nothing here"})]})};export{P as default};
