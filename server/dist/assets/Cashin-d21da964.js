import{r as t,M as L,t as d,j as s,B as i}from"./index-9b3e82f7.js";import{S as P,D as Q}from"./Datatable-534a25a9.js";import{C as U}from"./Dialogs-cdfc4573.js";import"./column.esm-15f5861a.js";import"./inputnumber.esm-a336fc43.js";import"./inputtextarea.esm-fe1d180e.js";import"./multiselect.esm-6a74c009.js";const et=()=>{const{io:a}=t.useContext(L),[n,o]=t.useState(!1),[c,u]=t.useState(""),[l,h]=t.useState(""),[r,m]=t.useState(""),[x,S]=t.useState([]),[C,f]=t.useState([]),[g,j]=t.useState(0),[D,b]=t.useState(0),[v,y]=t.useState(0),[R,w]=t.useState(0),[N,k]=t.useState([]),[z,A]=t.useState(!1),[E,M]=t.useState(!1),[O,B]=t.useState(!1),F=["Revenue","Debt"],[I,T]=t.useState([]);document.title="Cash In",t.useEffect(()=>{a.emit("get-cashin"),a.emit("get-summary"),a.on("set-summary",({cashin:e,cashout:p,totalDebt:q,totalRevenue:G,other:J,others2:K})=>{S(e),f(p),j(d(e,"cashin")-d(p,"cashout")),b(q),y(G),w(J),k(K)}),a.on("set-cashin",({data:e})=>{T(e)})},[a]);const _=s.jsxs("div",{children:[s.jsx(i,{label:"Cancel",icon:"pi pi-times",onClick:()=>o(!1),className:"p-button-text",size:"small"}),s.jsx(i,{label:"Add",icon:"pi pi-check-circle",onClick:e=>V(e),autoFocus:!0,size:"small"})]}),H=s.jsx("div",{children:s.jsx(i,{label:"Refresh",icon:"pi pi-refresh",onClick:()=>a.emit("get-summary"),className:"p-button-outlined p-button-secondary",size:"small"})}),V=e=>{e.preventDefault(),c!==""&&l!==""&&r!==""&&(a.emit("add-cashin",{amount:c,desc:l,category:r}),h(""),u(""),m(""),o(!1))};return s.jsxs("div",{className:"__cashin",children:[s.jsx(i,{icon:n?"pi pi-minus":"pi pi-plus",className:"p",onClick:()=>o(!n),severity:"secondary",size:"small",text:!0}),s.jsxs("div",{className:"cashin-container",children:[s.jsx(P,{cardFooter:H,setShowDialog:A,showDialog:z,cashin:x,setShowDialog2:M,showDialog2:E,setShowDialog3:B,showDialog3:O,cashout:C,margin:g,totalDebt:D,totalRevenue:v,others:R,others2:N}),s.jsx("div",{className:"c-p-card",children:s.jsx(Q,{data:I})})]}),s.jsx(U,{header:"Cash In",footerContent:_,amount:c,category:r,desc:l,setAmount:u,setCategory:m,categoryOptions:F,setDesc:h,setVisible:o,visible:n})]})};export{et as default};
