import{C as N,r as n,P as x,c as C,O as g,m as y,l as R}from"./index-82ae9a98.js";function f(e){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f(e)}function T(e,r){if(f(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r||"default");if(f(t)!=="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _(e){var r=T(e,"string");return f(r)==="symbol"?r:String(r)}function D(e,r,a){return r=_(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},b.apply(this,arguments)}function F(e){if(Array.isArray(e))return e}function $(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var t,o,m,i,l=[],c=!0,p=!1;try{if(m=(a=a.call(e)).next,r===0){if(Object(a)!==a)return;c=!1}else for(;!(c=(t=m.call(a)).done)&&(l.push(t.value),l.length!==r);c=!0);}catch(s){p=!0,o=s}finally{try{if(!c&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}function O(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}function z(e,r){if(e){if(typeof e=="string")return O(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(e,r)}}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(e,r){return F(e)||$(e,r)||z(e,r)||B()}var v=N.extend({defaultProps:{__TYPE:"Avatar",className:null,icon:null,image:null,imageAlt:"avatar",imageFallback:"default",label:null,onImageError:null,shape:"square",size:"normal",style:null,template:null,children:void 0}});function h(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,t)}return a}function U(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?h(Object(a),!0).forEach(function(t){D(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H=n.forwardRef(function(e,r){var a=n.useContext(x),t=v.getProps(e,a),o=n.useRef(null),m=n.useState(!1),i=M(m,2),l=i[0],c=i[1],p=v.setMetaData({props:t,state:{imageFailed:l}}),s=p.ptm,P=function(){if(g.isNotEmpty(t.image)&&!l){var u=y({src:t.image,onError:E},s("image"));return n.createElement("img",b({alt:t.imageAlt},u))}else if(t.label){var w=y({className:"p-avatar-text"},s("label"));return n.createElement("span",w,t.label)}else if(t.icon){var I=y({className:"p-avatar-icon"},s("icon"));return R.getJSXIcon(t.icon,U({},I),{props:t})}return null},E=function(u){t.imageFallback==="default"?t.onImageError||(c(!0),u.target.src=null):u.target.src=t.imageFallback,t.onImageError&&t.onImageError(u)};n.useImperativeHandle(r,function(){return{props:t,getElement:function(){return o.current}}});var S=C("p-avatar p-component",{"p-avatar-image":g.isNotEmpty(t.image)&&!l,"p-avatar-circle":t.shape==="circle","p-avatar-lg":t.size==="large","p-avatar-xl":t.size==="xlarge","p-avatar-clickable":!!t.onClick},t.className),A=y({ref:o,style:t.style,className:S},v.getOtherProps(t),s("root")),j=t.template?g.getJSXElement(t.template,t):P();return n.createElement("div",A,j,t.children)});H.displayName="Avatar";export{H as A};
