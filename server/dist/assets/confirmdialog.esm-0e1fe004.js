import{C as Q,r as o,P as Z,K as U,G as d,y as ee,z as te,F as re,c as R,O as T,m as P,p as ne,B as V}from"./index-9b3e82f7.js";import{D as ae}from"./inputnumber.esm-a336fc43.js";function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B.apply(this,arguments)}function oe(t){if(Array.isArray(t))return t}function ce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,m,p,g=[],v=!0,j=!1;try{if(m=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;v=!1}else for(;!(v=(n=m.call(r)).done)&&(g.push(n.value),g.length!==e);v=!0);}catch(S){j=!0,s=S}finally{try{if(!v&&r.return!=null&&(p=r.return(),Object(p)!==p))return}finally{if(j)throw s}}return g}}function _(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ie(t,e){if(t){if(typeof t=="string")return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(t,e)}}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(t,e){return oe(t)||ce(t,e)||ie(t,e)||le()}function O(t){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(t)}function se(t,e){if(O(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(O(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ue(t){var e=se(t,"string");return O(e)==="symbol"?e:String(e)}function fe(t,e,r){return e=ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x=Q.extend({defaultProps:{__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null,children:void 0}});function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X(Object(r),!0).forEach(function(n){fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e=y(y({},e),{visible:e.visible===void 0?!0:e.visible}),e.visible&&d.emit("confirm-dialog",e);var r=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d.emit("confirm-dialog",y(y(y({},e),m),{visible:!0}))},n=function(){d.emit("confirm-dialog",{visible:!1})};return{show:r,hide:n}},me=o.memo(o.forwardRef(function(t,e){var r=o.useContext(Z),n=x.getProps(t,r),s=o.useState(n.visible),m=J(s,2),p=m[0],g=m[1],v=o.useState(!1),j=J(v,2),S=j[0],M=j[1],C=o.useRef(null),h=o.useRef(!1),L=function(){return C.current||n},c=function(a){return(C.current||n)[a]},D=function(a){for(var i=arguments.length,u=new Array(i>1?i-1:0),f=1;f<i;f++)u[f-1]=arguments[f];return T.getPropValue(c(a),u)},F=c("acceptLabel")||U("accept"),K=c("rejectLabel")||U("reject"),k=x.setMetaData({props:n,state:{visible:p}}),w=k.ptm,$=function(){h.current||(h.current=!0,D("accept"),b("accept"))},H=function(){h.current||(h.current=!0,D("reject"),b("reject"))},I=function(){g(!0),h.current=!1},b=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";g(!1),D("onHide",{result:a})},E=function(a){if(a.tagKey===n.tagKey){var i=p!==a.visible,u=c("target")!==a.target;u&&!n.target?(b(),C.current=a,M(!0)):i&&(C.current=a,a.visible?I():b())}};o.useEffect(function(){n.visible?I():b()},[n.visible]),o.useEffect(function(){return!n.target&&!n.message&&d.on("confirm-dialog",E),function(){d.off("confirm-dialog",E)}},[n.target]),ee(function(){S&&I()},[S]),te(function(){d.off("confirm-dialog",E)}),o.useImperativeHandle(e,function(){return{props:n,confirm:E}});var z=function(){var a=R("p-confirm-dialog-accept",c("acceptClassName")),i=R("p-confirm-dialog-reject",{"p-button-text":!c("rejectClassName")},c("rejectClassName")),u=P({label:K,icon:c("rejectIcon"),className:i,onClick:H},w("rejectButton")),f=P({label:F,icon:c("acceptIcon"),className:a,onClick:$},w("acceptButton")),N=o.createElement(o.Fragment,null,o.createElement(V,u),o.createElement(V,B({},f,{autoFocus:!0})));if(c("footer")){var A={accept:$,reject:H,acceptClassName:a,rejectClassName:i,acceptLabel:F,rejectLabel:K,element:N,props:L()};return T.getJSXElement(c("footer"),A)}return N},G=function(){var a=L(),i=R("p-confirm-dialog",c("className")),u=T.getJSXElement(c("message"),a),f=P({className:"p-confirm-dialog-icon"},w("icon")),N=ne.getJSXIcon(c("icon"),y({},f),{props:a}),A=z(),Y=P({className:"p-confirm-dialog-message"},w("message")),q=P({visible:p,className:i,footer:A,onHide:b,breakpoints:c("breakpoints"),pt:a.pt},x.getOtherProps(a));return o.createElement(ae,q,N,o.createElement("span",Y,u))},W=G();return o.createElement(re,{element:W,appendTo:c("appendTo")})}));me.displayName="ConfirmDialog";export{me as C,ve as c};
